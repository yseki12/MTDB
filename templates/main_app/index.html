{% extends "layout.html" %}

{% block title %}Muay Thai Buddy{% endblock %}

{% block head %}
{{ super() }}
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-12">
            <h2>Welcome to Muay Thai Buddy!</h2>
            <img src='/static/image.jpg' class="logo">
        </div>
    </div>
    <div class = "row mt-2">
        <div class="col-12">
            <h5>Find a training partner in Thailand!</h5>
        </div>
    </div>
    <div class="row justify-content-md-center">
        <div class="col-sm-5 px-1">
            <ul class="nav justify-content-left">
                <li class="nav-item">
                    <a class="nav-link active" href="{{ url_for('auth.register') }}">Register</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('auth.login') }}">Login</a>
                </li>
                {% if g.user %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('main_app.reviewgym') }}">Post Review</a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#" title="Please login">Post Review</a>
                    </li>
                {% endif %}
                <li class="nav-item">
                    {% for message in get_flashed_messages(category_filter = ["success"]) %}
                    <span class="navbar-text"><i>{{ message }}</i></span>
                    {% endfor %}
                </li>
            </ul>
        </div>
        <div class="col-sm-5">
            <ul class="nav justify-content-end">
                {% if g.user %}
                    <li class="nav-item">
                        <p class="navbar-text">Hello {{ g.user['username'] }}!</p>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('auth.logout') }}">Logout</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
    <div class="row justify-content-md-center">
        <div class = "col-sm-10">
            <table class = "table table-sm table-striped table-bordered">
                <tr>
                    <th style="width: 20%">Gym Name</th>
                    <th style="width: 20%">Location</th>
                    <th style="width: 15%">Average Rating</th>
                    <th style="width: 15%">Number of Ratings</th>
                    <th style="width: 15%">Total Days Trained</th>
                </tr>
            
                {% for gym in gyms %}
                    <tr>
                        <td><a href = "{{ url_for('main_app.gym', gym_id = gym.id) }}">{{ gym.gym }}</a></td>
                        <td>{{ gym.city }}</td>
                        <td>{{ gym.average }}</td>
                        <td>{{ gym.count }}</td>
                        <td>{{ gym.sum_days }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="row justify-content-md-center">
        <div class="col-sm-10">
            <div class="progress">
                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 50%;">
                    50% Complete
                </div>
            </div>
        </div>
    </div>
{% endblock %}